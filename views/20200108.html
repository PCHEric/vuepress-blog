<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用sort排序的一些总结 | Eric&#39;s Blog</title>
    <meta name="description" content="Record my journey of learning new things...">
    <link rel="icon" href="/vuepress-blog/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.fcec4f49.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.50d34824.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/3.4490f021.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/1.4cb117d4.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/10.5c9a9ca2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/11.b55e8c60.js"><link rel="prefetch" href="/vuepress-blog/assets/js/12.8b2cee73.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.f40bc9ce.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.3a9586a4.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.3efb2b73.js"><link rel="prefetch" href="/vuepress-blog/assets/js/7.9d1c63a3.js"><link rel="prefetch" href="/vuepress-blog/assets/js/8.059d1ebd.js"><link rel="prefetch" href="/vuepress-blog/assets/js/9.3171716f.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.fcec4f49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>Eric's Blog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Eric</span>
            
          <span data-v-6cbeab0a>2019 - </span>
          2020
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog/" class="home-link router-link-active"><img src="/vuepress-blog/logo.png" alt="Eric's Blog" class="logo"> <span class="site-name">Eric's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="https://github.com/PCHEric" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/vuepress-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    Eric
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>1</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>1</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="https://github.com/PCHEric" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>使用sort排序的一些总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-blog/views/20200108.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepress-blog/views/20200108.html#语法" class="sidebar-link">语法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepress-blog/views/20200108.html#sort-排序原理" class="sidebar-link">sort()排序原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#插入排序" class="sidebar-link">插入排序</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#快排序" class="sidebar-link">快排序</a></li></ul></li><li><a href="/vuepress-blog/views/20200108.html#sort-排序过程" class="sidebar-link">sort()排序过程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepress-blog/views/20200108.html#sort-排序示例" class="sidebar-link">sort()排序示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#默认排序" class="sidebar-link">默认排序</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#数字升序" class="sidebar-link">数字升序</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#数字降序" class="sidebar-link">数字降序</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#数字乱序" class="sidebar-link">数字乱序</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#对象数组升序（常用）" class="sidebar-link">对象数组升序（常用）</a></li><li class="sidebar-sub-header"><a href="/vuepress-blog/views/20200108.html#对象数组升序和降序封装到一个函数中" class="sidebar-link">对象数组升序和降序封装到一个函数中</a></li></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>使用sort排序的一些总结</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>Eric</span>
            
          <span data-v-6cbeab0a>2019 - </span>
          2020
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>使用sort排序的一些总结</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>Eric</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-01-08</span></i> <i class="iconfont reco-eye" data-v-484a899e><!----></i> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      排序
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p>使用sort排序的一些总结</p></div> <h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2> <p>js中sort方法用于对数组的元素进行排序，并返回数组。默认排序顺序是根据字符串Unicode码点。</p> <h2 id="语法"><a href="#语法" aria-hidden="true" class="header-anchor">#</a> 语法</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
<span class="token comment">// 参数fn：可选。用于规定排序顺序，必须是函数。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="sort-排序原理"><a href="#sort-排序原理" aria-hidden="true" class="header-anchor">#</a> sort()排序原理</h2> <p>不同引擎对js的sort方法解析可能存在差异，基于v8引擎进行分析。</p> <p>在v8引擎中，对sort方法提供了2种排序算法：<strong>插入排序</strong>及<strong>快排序</strong>。</p> <p>注：<strong>当数组长度<code>小于等于10</code>的时候，采用<code>插入排序</code>，<code>大于10</code>的时候，采用<code>快排序</code></strong>。</p> <h3 id="插入排序"><a href="#插入排序" aria-hidden="true" class="header-anchor">#</a> 插入排序</h3> <p>v8源码</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
	a表示数组
	from表示数组开始排序的位置下标
	to表示数组结束位置下标
*/</span>
<span class="token keyword">function</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">from</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> to<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> element <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token keyword">from</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//comparefn : 自定义排序方法</span>
        <span class="token keyword">var</span> order <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">comparefn</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="插入排序过程"><a href="#插入排序过程" aria-hidden="true" class="header-anchor">#</a> 插入排序过程</h4> <p>根据上述代码，var arr=[7,3,5,2,4], 那么arr.sort()排序过程如下：</p> <p><img src="/vuepress-blog/assets/img/sort1.52172a55.png" alt=""></p> <p>虽然插入排序的复杂度是n^2，但是由于数据量很小，因此是常量的复杂度，效率很高，而且插入排序是一个稳定的排序算法。</p> <p><strong>比较难懂</strong>我们来分析一下<code>[3,5,7,2,4]</code> 如何变成 <code>[2,3,5,7,4]</code>的</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/*
	a = [7,3,5,2,4]
	from 0
	to =  a.length = 5
	如果 a = [3,5,7,2,4] 那么 from = 0 to = 5
*/</span>
<span class="token keyword">function</span> <span class="token function">InsertionSort</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token comment">//           3         3 &lt; 5</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">from</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> to<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> element <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
      <span class="token comment">//           2     2 &gt;= 0</span>
      <span class="token comment">//                 1 &gt;= 0     2--</span>
      <span class="token comment">//                 0 &gt;= 0     1--</span>
      <span class="token comment">//                 -1 &gt;=0 (false) 0--</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token keyword">from</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//a[2]= 7  a[1]= 5 a[0]= 3</span>
        <span class="token comment">//comparefn 升序  7-2 &gt; 0  5-2 &gt; 0  3-2 &gt; 0</span>
        <span class="token keyword">var</span> order <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//a[2 + 1] = 7</span>
          <span class="token comment">//a[1 + 1] = 5</span>
          <span class="token comment">//a[0 + 1] = 3</span>
          a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
       <span class="token comment">// j = -1</span>
      <span class="token comment">// a[-1 + 1] = 2</span>
      a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">comparefn</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p><strong>插入排序个人理解</strong>：就是后面的是跟前面的所有数比较一致比到前面的数比你比我大就放在我的位置上，你比我小我就停止，如果都没有我就到最前面</p> <h3 id="快排序"><a href="#快排序" aria-hidden="true" class="header-anchor">#</a> 快排序</h3> <p>v8源码</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">GetThirdIndex</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//获取关键值</span>
    <span class="token keyword">var</span> t_array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InternalArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Use both 'from' and 'to' to determine the pivot candidates.</span>
    <span class="token keyword">var</span> increment <span class="token operator">=</span> <span class="token number">200</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">from</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    to <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token keyword">from</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> to<span class="token punctuation">;</span> i <span class="token operator">+=</span> increment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t_array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      j<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    t_array<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> third_index <span class="token operator">=</span> t_array<span class="token punctuation">[</span>t_array<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> third_index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">QuickSort</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> third_index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Insertion sort is faster for short arrays.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span> <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//数组长度小于等于10的时候，插入排序</span>
        <span class="token function">InsertionSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span> <span class="token operator">&gt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//数组长度大于1000的时候，获取关键值</span>
        third_index <span class="token operator">=</span> <span class="token function">GetThirdIndex</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">//长度大于10小于等于1000的时候，取数组中间的元素作为关键值</span>
        third_index <span class="token operator">=</span> <span class="token keyword">from</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>to <span class="token operator">-</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// Find a pivot as the median of first, last and middle element.</span>
      <span class="token keyword">var</span> v0 <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> v1 <span class="token operator">=</span> a<span class="token punctuation">[</span>to <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> v2 <span class="token operator">=</span> a<span class="token punctuation">[</span>third_index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> c01 <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>v0<span class="token punctuation">,</span> v1<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>c01 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// v1 &lt; v0, so swap them.</span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> v0<span class="token punctuation">;</span>
        v0 <span class="token operator">=</span> v1<span class="token punctuation">;</span>
        v1 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token comment">// v0 &lt;= v1.</span>
      <span class="token keyword">var</span> c02 <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>v0<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>c02 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// v2 &lt;= v0 &lt;= v1.</span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> v0<span class="token punctuation">;</span>
        v0 <span class="token operator">=</span> v2<span class="token punctuation">;</span>
        v2 <span class="token operator">=</span> v1<span class="token punctuation">;</span>
        v1 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// v0 &lt;= v1 &amp;&amp; v0 &lt; v2</span>
        <span class="token keyword">var</span> c12 <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c12 <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// v0 &lt;= v2 &lt; v1</span>
          <span class="token keyword">var</span> tmp <span class="token operator">=</span> v1<span class="token punctuation">;</span>
          v1 <span class="token operator">=</span> v2<span class="token punctuation">;</span>
          v2 <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// v0 &lt;= v1 &lt;= v2</span>
      a<span class="token punctuation">[</span><span class="token keyword">from</span><span class="token punctuation">]</span> <span class="token operator">=</span> v0<span class="token punctuation">;</span>
      a<span class="token punctuation">[</span>to <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v2<span class="token punctuation">;</span>
      <span class="token keyword">var</span> pivot <span class="token operator">=</span> v1<span class="token punctuation">;</span>
      <span class="token keyword">var</span> low_end <span class="token operator">=</span> <span class="token keyword">from</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">// Upper bound of elements lower than pivot.</span>
      <span class="token keyword">var</span> high_start <span class="token operator">=</span> to <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// Lower bound of elements greater than pivot.</span>
      a<span class="token punctuation">[</span>third_index<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span><span class="token punctuation">;</span>
      a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span> <span class="token operator">=</span> pivot<span class="token punctuation">;</span>

      <span class="token comment">// From low_end to i are elements equal to pivot.</span>
      <span class="token comment">// From i to high_start are elements that haven't been compared yet.</span>
      partition<span class="token punctuation">:</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> low_end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> high_start<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> element <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> order <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> pivot<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span><span class="token punctuation">;</span>
          a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
          low_end<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">do</span> <span class="token punctuation">{</span>
            high_start<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>high_start <span class="token operator">==</span> i<span class="token punctuation">)</span> <span class="token keyword">break</span> partition<span class="token punctuation">;</span>
            <span class="token keyword">var</span> top_elem <span class="token operator">=</span> a<span class="token punctuation">[</span>high_start<span class="token punctuation">]</span><span class="token punctuation">;</span>
            order <span class="token operator">=</span> <span class="token function">comparefn</span><span class="token punctuation">(</span>top_elem<span class="token punctuation">,</span> pivot<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>order <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>high_start<span class="token punctuation">]</span><span class="token punctuation">;</span>
          a<span class="token punctuation">[</span>high_start<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>order <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            element <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span><span class="token punctuation">;</span>
            a<span class="token punctuation">[</span>low_end<span class="token punctuation">]</span> <span class="token operator">=</span> element<span class="token punctuation">;</span>
            low_end<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>to <span class="token operator">-</span> high_start <span class="token operator">&lt;</span> low_end <span class="token operator">-</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">QuickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> high_start<span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>
        to <span class="token operator">=</span> low_end<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">QuickSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> low_end<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">from</span> <span class="token operator">=</span> high_start<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br></div></div><p>可见，v8的sort对于长度大于1000的数组，采用的是<strong>快排与插入排序混合</strong>的方式进行排序的，因为，当数据量很小的时候，插入排序效率优于快排。</p> <p>快排需要选择一个<code>关键值</code>，并且以关键值作为基准开始排序，<code>比关键值的值大的放在关键值右边，小的放在关键值左边，由此完成一趟排序；然后再对关键值左侧的数据以及右侧的数据分别执行快排</code>。如果每次关键字选择都是一组数据的最小值或者最大值，那么快排的复杂度将会达到n^2，就跟冒泡没什么区别了。在快排算法中，<code>最优的关键值，是这组数据最中间位置的值</code>，这样才能可以使得排序算法复杂度达到nlogn(最佳，全盛期). 因此，关键值的选择尤为重要。</p> <p><strong>v8快排关键值的获取：</strong></p> <ol><li><p>获取临时关键值tmp：</p></li> <li><ol><li>对于大于10小于等于1000的数据量，tmp为这组数据中间位置的值</li> <li>对于大于1000的数据，根据一定步长从待排序的数组里面获取一组临时数据，对临时数据排序，再获得临时数据中最中间位置的值，作为待排序数组的tmp。步长的计算跟数组的长度有关系，其计算方法如下：
<em>步长 = 200 + 数组长度&amp;15;</em></li> <li>将数组的长度转换为二进制后，与1111按位与，其结果与200相加，作为步长。</li></ol></li> <li><p>计算关键值key：
获取数组第一个数a0, 最后一个数an；
比较a0, tmp, an, 赋值给v0, v1, v2, 保证v0&lt;=v1&lt;=v2;
关键值 = v1.</p></li></ol> <p>通过对关键值的选取，能最大程度保证快排的复杂度趋近于平均复杂度，即nlogn.</p> <p>例1: var arr=[3,6,2,7,9,23,5,13,12,6,73,34,55,22,34]，arr.sort()排序顺序如下</p> <ul><li><p>第一趟排序：</p></li> <li><ul><li>数组长度为15，获取临时关键值tmp=(15-0)&gt;&gt;1+0=7；</li> <li>a0=arr[0]=3, an=arr[14]=34, tmp=arr[7]=13, 因此v0=3, v1=13, v2=34, 因此key=13；</li> <li>排序结果：3,2,7,9,6,12,5,6,13,23,73,34,55,22,34，小于13的都在其左侧，大于13的都在其右侧；</li></ul></li> <li><p>第二趟排序：
分别对13左侧的数据，及13右侧的数据调用快排方法；
由于13左侧及右侧数据量都小于10，因此会调用插入排序，因此接下来排序结果如下：</p></li> <li><ul><li>13左侧：
2,3,7,9,6,12,5,6
2,3,7,9,6,12,5,6
2,3,7,9,6,12,5,6
2,3,6,7,9,12,5,6
2,3,6,7,9,12,5,6
2,3,5,6,7,9,12,6
2,3,5,6,6,7,9,12</li> <li>13右侧:
23,73,34,55,22,34
23,34,73,55,22,34
23,34,55,73,22,34
22,23,34,55,73,34
22,23,34,34,55,73</li> <li>最终结果2,3,5,6,6,7,9,12,13,22,23,34,34,55,73</li></ul></li></ul> <p>快排的平均时间复杂度是nlogn，在排序算法中属于效率最高的。快排是一种不稳定的排序算法，但是一般情况下稳定或者不稳定对我们没有特别大的影响，但是对稳定性要求高的排序，就不能使用快排了。</p> <h2 id="sort-排序过程"><a href="#sort-排序过程" aria-hidden="true" class="header-anchor">#</a> sort()排序过程</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">var</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span>value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span>value2<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value1<span class="token operator">&lt;</span>value2<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>value1<span class="token operator">&gt;</span>value2<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//1,2,3,4,5,10</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>打印结果</p></blockquote> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ8AAADoCAMAAADGx5GCAAAAAXNSR0IArs4c6QAAAGZQTFRF////7+3+r6Xv3dn6HADPj4Pobm5u8fHx29vb+zg4dmbj9/f/qampiYmJy8X27e3tycnJo6Oj9/f3WkbdU1NTaljfICAge3t7RC7XhXTlPDw8lpaWu7fz9fX16enpra2tVJH0PoHzRZAC2wAAC6RJREFUeNrtnY2WojgQhSGIa1Sie2ydtqd7d/b9X3LzC5WkQFoTwLY4Z+b00BiTSyWQLzU3xd8FHfAgPUiPQT02dICD4oP6C+lBepAepAfpQXo8ox77PfbjC+nx+x9Pjkb9fbxcpBaH9ab7xeHt8nYoinrFwgLq1epUBud225Uwv4ouL5j+FTzEarXd+afK02r1Xsn6XC7HHHqUJ1V6W6NV96/1+t+v9jdHLUfTxAGy+fWlSvncirjwXXiyOomz/AK23ZXbUCpx3lZB3bZlXMLVCfR7k0GP6lydvVqI9oas1+tf7hYc1gclyvoLquNpE7dPlx6dVO1R17L3KqoJUkSkh2BeldL3l9LXg9VdfMij2YDe0lwul6aNCXs0x0BHEG2nuIGqfFEXNbtWYSwgRRQiLKLthLAO2fSoQROgHrrRX782+o8XH+YE1HE4Pmqmrj2JIJ52Uh6kCBFGkS6ifnhQHx8f3Q0B/cU0WkWo+anphrJD89W2c4QeOv5r+R1B4+XIKY9QEIYEmDzLCr8OOfXo/gnGU6OC+lt3nA3oujZUbD/fvx3CO/m1bsLiZYOqUxVerULEv7o2HcgvwcaMi8vs8dF2Yvi8NcEpn7ZqRP1aH4PfqIegfjKCFlbv5pkKW6POySCQD13dJl8P3YPg1TpmZKnwHEsyfPTr0bbEDVbImBZERNHAnus/9Zom+ujhrTewR16NlnBsZn0/7Xs7lW9j6/ZGbT7iSu57X5vGXo2fu+xn1YPmL6THK+nxFx3goPig/kJ6kB6kB+mxcD26afZDgOp59fCxsp7Lfa01Qt430YzC4uJwxhiBHqHnjXK6GwOO8hRNKRH6rGbK8rPe9CmFHrIBcEprKLmALfCwsp7Lbd42cYDouLG4+CYWqmuFg8qTsGzHq1AdqifquAThLtr8Th4fLdrabYX6WX15h7sgVtbQocUfEMk4bTr8DYFWDAJrobFQeaqjyjA2QlEmsNl2Ej08hK3xJpPnIGbvMKoOj4/L5WMTIDuHZ+KmywisUQi1u1bV+TP4HWM7bOEijJkurO/DhkPrL151lR61KE/siujRwWRNY2B8ODyDYtRYJHW/y2293QXBILtBifS4GqFUuy27f1Af7i91oMfnuaquyDKM+XIVobr5ENntj3GsDeihqGT1zsLGq9sOl8TaIQWttijuxoaDesB1D91fZIXgslQ7ntpVqcYuWAJu6ELFtO/wtvdDUNb8+LEJFFK8NAbOZqSEJchgNSHolWDZ+53YcNx4an+WsWGCMXremmWYtVk6PYInnVHK4mKvNW4JFLamNkFgH2OBHroHwRLU1eqxF5TwyPAxzJNZWFGGvDGYWwQk8BCz/9RzD2R47HvfEzBcPLaEe1cdUr2f9r2deqvtzccmbnOvHBguHlmCTS2g+QvN50iPvHoQQyaeTP2F9CA9SA/S44n0IJ78UjzZ5SfLrxR4nV6LJ9v8ZOZzuvp6BXq8Fk+2aFfjuxaYCU+PV+LJumoqWfrUYrIS4tOX48lGj09QNdmmCu0vL8GTdeiq5RZ3a3VKalepV+PJXgZ1G89dfLweT5ZFq0CFkY4+Jognj347JZ5M8xfS4wfrQQx5eTyZ33H85P7CJ/kI6UF6kB6kx9L1eNzv4sn1SO53wYtBvwtTgp+bxF1BM+UnQw+O5H4XfMjvwpYgTuUOOB1wS0TmyU9WHG8rEDCWxu+CO5KA+l3os0oLAcgDRwsqpspPVgnbUI+0fhfckTHM78IyxOuO1XWsx0z5ybKyuB5J/C64C0bE78Ipdd2yqL/Mlp+sE/mx/pLG74IX/X4XBZYKbPWYLT+ZeSYcyf0uVOP6/S50CWq9QdFnx0/1R+bMTwbxkdzvgg/4XbgS7Lop1GPG/GRPD3gk8buIXq6a3pvreDL8yKJ4cgq/i0AP7GonlAsFDr7ox/Fkms+RHs+ixxIoLp/kI8STn7W/LOggPUgP0oP0mF8Pyk/OkZ8sZ7ox/0B4cjubnTU/meX2uyjK85WF9cB4suEzM+cnl/VOQ5kIkyXLT/Y4basIwpN7FZ00P9nDIDnyk2uBZN1iPBmCtqDQ6fKTC88kNkN+suKFsbMyxpOdHLPmJ7vvivpLovxkk/Ab/U8PjCfbQmfNTw4qkCU/2WTd3ubJ5uNz5yd7vTVDfrK7ubd5sn3azpuf7Hyc4yNxfvJtnnyrhJ+UnzyGJw+XQPnJNJ8jPSbRg3KSye+C+gvpQXqQHi+mxxyrdUvej49nuDKHHln245Nnw8RTXr2ry+TMMkpJtXja8VygRzaeLL+zq7RXpxz78anU5DDRkisYpRGUCLiPxdMtYwZ65MtPhhVkQqVSx2As3X58nnWE6wUKDokamhS3BciLO8YM9MjGk8NtASvMKDjZfnyaF4ejgslJFeX5M4Lz6uKOMXPYkfLwZFkX/87i+xMm2o9PWxiE4ww3hJ+dSoHm6HaMmfs1z8GT1cIL1EN4+xOm3o/PJPyycDxVZiCnGhlt9JmOMfvPlxw82RhuAFQIhvgs+/EZ9T3gzFVj9X6NwV5zlu06xnz88PTIlp8M4sPzvMiwH58bnzzgzPUNkZerApDd+xxjhnpk48meHiZasBWUxPvxebiY37raKb+O38eeOj+5U83DxfzG1e6L1l88OvcTefKzvK+THi80vyWGTDyZ+BjpQXqQHqTHM+iRjSc/ix5T8WTUMrnXYFlNpVUJXgZOSj4GU6Nm4cmYZXK/wXLHM39vMsVHh7Zm4cm4ZXKfwbJgXpUy6OHfxOl5MmqZ3Guw3HbCO0nhLT2C/fim58m4ZXKfwbLpTA8P6qP345ucJ+OWyX0GyzagiuJuUjhCDxDqc/Bku9g23mBZ1/FeUvit8XQOnuxu+DiDZZZk+BjpdzEPT3bCfstg+d6FhlTvpxl5si3nWwbL5n+n0fyF5nOkxyR6EEMmnkz9hfR4Fj1m9n9Znh5JLyM9lq/H93jyD9TjIZ7MC5wnB+e4nVQuhic7v4v2yxLxZA6pSOEDIBFctiSebP0uHF1IxpM5yseic9Yyd0k8OSByiXgyL1CeHJ7Tly2KJ4d6JOLJ4+NjaTzZr0wqnjxaj8XxZO8bk/Fk3t7JgJ/qcy0/NZctiidDPdLxZI7yZHcu0GNhPLldwE3Ik6HR7wBPBu9jP5sntw0d5sm8K+dn82Saz5Eez8w/iCETT15SfyE9SA/Sg/QgPW4c5J/8oH9yn/txzHnYKv7/2Z7fRVDCVP7JDmFHGOQu/2TM/bjA8lXFeRt8NvS78Eu1c8gJ/JM9NJzAPxnTI8rPDI0m2uJQT+Up/ZMjPR7yTy5i92MVgaEcyrIYSXH2/C68jjSdf7LvmP64fzLmfhxeqP0MavSqHk/lKf2ToYHyo/7Jfe7Hvh7C2/qu+6zo8VQupvRPLgqwLPagf3KP+3G8H58OkWG/i7n8k60FdPy8vcM/ucf9WDfG10MPW4N+FzP5J6t6oLvyTeCfPOh38Xr+ycN+F/E58k+m+RzpMYEexJCJJ1N/IT1eQo/8W1w+mR7ZLiY9sukxod/FMvV42O9CILvqoB4YYX4yH8hPLozbsqXU8st5Rv9kBpnMo34Xcv5+Mz/ZEaMwWbM/P5lpt2WVNmyw5iZ1fHj+yfDLE/hdYHrEcDnKT+ZFf36yqaT6NqbXAPaJ9fCwdqjHY34XXjZrG4HxqSg/mQ/kJ7f7kNVMM9UmrR6+fzLzF14e9bsQ7yM2s0Tyk/lQfrLhefXJ1PuwTqtH6J8MbunDfhcMcQ+K9MDyk/lQfrL+fC2L1ndg8yupHqF/MhwHHvW7sMsMg/nJbYh4eJQP5Sfrjtny3mOT/Hkb+I2348CDfhduF7vB/GQwbEE9BvOT1e2T99GEVHPMqUfdsw/fxH4X/HYJXeDO8346qd8Fv1kCeBWk+QvN50iP3Ho8Fe79Hg8invxqvJD0ID1ID9LjKfT4rEgOoMfuz38kCIyP8s9/gvQoSBDSg/oLjaf0vKX3MdIj8/E/TBlqk6G2ZaoAAAAASUVORK5CYII=" alt="sort排序打印结果"></p> <p>(<em>我本来是想在控制台输出数组，结果出现这种重复以及丢失的排序，目前还没有解决，提出来让大家知道，以下排序过程是对的，只是控制台输出有误</em>。)</p> <p>我们定义的数组是这样的 arr=[1,3,10,4,2,5]
<strong>第一行</strong>：传入的是value1=1，value2=3，比较大小返回-1，数组的位置不变。
<strong>第二行</strong>：传入的是value1=3，value2=10，比较大小返回-1，数组的位置不变。
<strong>第三行</strong>：传入的是value1=10，value2=4，比较大小返回1，两项交换位置，现在的数组是arr=[1,3,4,10,2,5]
<strong>第四行</strong>：现在不是继续往后面比较，由于返回值为1（这是升序，1的时候往前面比较），则在第三行操作交换位置后，这传入的参数是value1=3，value2=4，比较大小，返回-1，位置不变，数组还是arr=[1,3,4,10,2,5]
<strong>第五行</strong>：这才继续向后比较，传入value1=10，value2=2，比较大小，返回1，交换位置，数组为arr=[1,3,4,2,10,5]
<strong>第六行</strong>：前面的返回值又是1，则又比较前面的，value1=4，value2=2，比较大小，返回1，数组变为arr=[1,3,2,4,10,5]
<strong>第七行</strong>：第六行结果返回值是1，所以这个地方也不能往后面比较，value1=3，value2=2；比较大小，返回1，数组为arr=[1,2,3,4,10,5]
<strong>第八行</strong>：同理，value1=1，value2=2，比较大小返回-1，数组不变。
<strong>第九行</strong>：继续往后面比较，value1=10，value2=5，比较大小，返回1，改变位置，数组是arr=[1,2,3,4,5,10]
<strong>最后一行</strong>：前面返回值是1，则向前比较，value1=4，value2=5，比较大小，返回-1，数组不变，（因为前面4前面的数是排好序的，只要5&gt;4，就会比前面都大，则前面不用比较。）</p> <p>传参的详细过程就是这样，所以最后得到的数组是：arr=[1,2,3,4,5,10]，<strong>谷歌测试</strong>。</p> <h2 id="sort-排序示例"><a href="#sort-排序示例" aria-hidden="true" class="header-anchor">#</a> sort()排序示例</h2> <h3 id="默认排序"><a href="#默认排序" aria-hidden="true" class="header-anchor">#</a> 默认排序</h3> <p>默认按照字母顺序排序</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//['a', 'b', 'c', 'd']</span>

<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 10 ,100, 25, 40, 5] 这次排序似乎没有得到想要的结果</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="数字升序"><a href="#数字升序" aria-hidden="true" class="header-anchor">#</a> 数字升序</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="数字降序"><a href="#数字降序" aria-hidden="true" class="header-anchor">#</a> 数字降序</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> b <span class="token operator">-</span> a
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p><strong>若 a 小于 b</strong>，即 a - b 小于零，则返回一个小于零的值，数组将按照升序排列。
<strong>若 a 等于 b</strong>，则返回 0。
<strong>若 a 大于 b</strong>, 即 a - b 大于零，则返回一个大于零的值，数组将按照降序排列。</p></blockquote> <h3 id="数字乱序"><a href="#数字乱序" aria-hidden="true" class="header-anchor">#</a> 数字乱序</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 每次返回的数据是随机的，所有就会胡乱排序</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="对象数组升序（常用）"><a href="#对象数组升序（常用）" aria-hidden="true" class="header-anchor">#</a> 对象数组升序（常用）</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 一个对象数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zopp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'gpp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yjj'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 该对象返回sort的callback</span>
<span class="token comment">/*
	property: String  对象需要排序的属性
*/</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token comment">// 该匿名函数在sort中，ab就代表前一项和后一项</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      	<span class="token comment">//	前一项的属性值</span>
        <span class="token keyword">var</span> value1 <span class="token operator">=</span> a<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">// 后一项的属性值</span>
        <span class="token keyword">var</span> value2 <span class="token operator">=</span> b<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">//	做差比大小</span>
        <span class="token keyword">return</span> value1 <span class="token operator">-</span> value2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>对象数组降序</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 一个对象数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zopp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'gpp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yjj'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 该对象返回sort的callback</span>
<span class="token comment">/*
	property: String  对象需要排序的属性
*/</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token comment">// 该匿名函数在sort中，ab就代表前一项和后一项</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      	<span class="token comment">//	前一项的属性值</span>
        <span class="token keyword">var</span> value1 <span class="token operator">=</span> a<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">// 后一项的属性值</span>
        <span class="token keyword">var</span> value2 <span class="token operator">=</span> b<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">//	做差比大小</span>
        <span class="token keyword">return</span> value2 <span class="token operator">-</span> value1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="对象数组升序和降序封装到一个函数中"><a href="#对象数组升序和降序封装到一个函数中" aria-hidden="true" class="header-anchor">#</a> 对象数组升序和降序封装到一个函数中</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 一个对象数组</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'zopp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'gpp'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'yjj'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 该对象返回sort的callback</span>
<span class="token comment">/*
	property: String  对象需要排序的属性
	type:  String  		排序的方式	'up' or 'down'
*/</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">property<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token comment">// 该匿名函数在sort中，ab就代表前一项和后一项</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      	<span class="token comment">//	前一项的属性值</span>
        <span class="token keyword">var</span> value1 <span class="token operator">=</span> a<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">// 后一项的属性值</span>
        <span class="token keyword">var</span> value2 <span class="token operator">=</span> b<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">;</span>
      	<span class="token comment">//	做差比大小</span>
      	<span class="token comment">// 如果type不存在默认升序</span>
      	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>type <span class="token operator">||</span> type <span class="token operator">==</span> <span class="token string">'up'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> value1 <span class="token operator">-</span> value2<span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> value2 <span class="token operator">-</span> value1<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/vuepress-blog/assets/js/app.50d34824.js" defer></script><script src="/vuepress-blog/assets/js/3.4490f021.js" defer></script><script src="/vuepress-blog/assets/js/1.4cb117d4.js" defer></script><script src="/vuepress-blog/assets/js/10.5c9a9ca2.js" defer></script>
  </body>
</html>
